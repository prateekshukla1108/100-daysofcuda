Just some changes and correction, still the kernel is compiling but results are bad
